class Zoom4 extends HTMLElement{constructor(){super(),this.scale=1}connectedCallback(){if(this.hasAttribute("option")){switch(this.getAttribute("option")){case"zoom":this.onwheel=e=>{this.zoom(e)},this.resetZoom();break;case"drag":this.drag()}}else console.error('zoom-element 記得加上 option屬性 例如option="zoom"')}disconnectedCallback(){console.log("removed")}zoom(e){e.preventDefault(),this.scale+=-.01*e.deltaY,this.scale=Math.min(Math.max(.125,this.scale),4),this.style.transform=`scale(${this.scale})`}resetZoom(){const e=document.querySelector(".test2"),t=document.querySelector("zoom-element");e.addEventListener("click",(function(){t.scale=1,t.style.transform="scale(1)"}))}drag(){const e="ontouchstart"in document.documentElement?"touchstart":"mousedown",t="ontouchend"in document.documentElement?"touchend":"mouseup",o="ontouchmove"in document.documentElement?"touchmove":"mousemove",n=this.querySelector(".content"),s=this.querySelector(".left"),l=this.querySelector(".top");let c;n.addEventListener(e,(function(t){let a,i;c=!0,a="touchstart"==e?t.originalEvent.targetTouches[0].pageX-n.offsetLeft:t.pageX-n.offsetLeft,i="touchstart"==e?t.originalEvent.targetTouches[0].pageY-n.offsetTop:t.pageY-n.offsetTop,console.log(c,"1"),n.addEventListener(o,(function(e){c&&("touchmove"==o?(n.style.left=e.originalEvent.targetTouches[0].pageX-a,n.style.top=e.originalEvent.targetTouches[0].pageY-i,s.innerHTML=`${n.style.left}`,l.innerHTML=`${n.style.top}`,console.log(c,"2")):(n.style.left=e.pageX-a,n.style.top=e.pageY-i,s.innerHTML=`LEFT ${n.style.left} `,l.innerHTML=`TOP ${n.style.top}`,console.log(c,"3")))}))})),this.addEventListener(t,(function(){c=!1,console.log(c,"4")}))}}customElements.define("zoom-element",Zoom4);
//# sourceMappingURL=zoom4-dist.js.map