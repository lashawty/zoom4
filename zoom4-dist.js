class Zoom4 extends HTMLElement{constructor(){super(),this.scale=1}connectedCallback(){if(this.hasAttribute("option")){switch(this.getAttribute("option")){case"zoom":this.onwheel=e=>{this.zoom(e)},this.resetZoom();break;case"move":this.move(),this.resetMove()}}else console.error('zoom-element 記得加上 option屬性 例如option="zoom"')}disconnectedCallback(){console.log("removed")}zoom(e){e.preventDefault(),this.scale+=-.01*e.deltaY,this.scale=Math.min(Math.max(.125,this.scale),4),this.style.transform=`scale(${this.scale})`}resetZoom(){const e=this.querySelector(".btn"),t=this;e.addEventListener("click",(function(){t.scale=1,t.style.transform="scale(1)"}))}move(){const e=document.createElement("div");this.appendChild(e),e.className="move-element";const t="ontouchstart"in document.documentElement?"touchstart":"mousedown",o="ontouchend"in document.documentElement?"touchend":"mouseup",s="ontouchmove"in document.documentElement?"touchmove":"mousemove",n=this.querySelector(".move-element"),l=this.querySelector(".left"),i=this.querySelector(".top");l.innerHTML=`Left ${n.offsetLeft} px`,i.innerHTML=`Top ${n.offsetTop} px`;let c,a,r;this.addEventListener(t,(function(e){e.preventDefault(),c=!0,"touchstart"==t?(a=e.originalEvent.targetTouches[0].pageX-n.offsetLeft,r=e.originalEvent.targetTouches[0].pageY-n.offsetTop):(a=e.pageX-n.offsetLeft,r=e.pageY-n.offsetTop),n.addEventListener(s,(function(e){if(c)if("touchmove"==s){let t=e.originalEvent.targetTouches[0].pageX-a,o=e.originalEvent.targetTouches[0].pageY-r;n.style.left=`${t}px`,n.style.top=`${o}px`}else{let t=e.pageX-a,o=e.pageY-r;n.style.left=`${t}px`,n.style.top=`${o}px`}l.innerHTML=`${n.style.left}`,i.innerHTML=`${n.style.top}`}))})),this.addEventListener("mouseleave",(function(){console.log("mouseleave"),c=!1})),this.addEventListener(o,(function(){console.log("mouseup"),c=!1}))}resetMove(){const e=this.querySelector(".btn"),t=this.querySelector(".move-element"),o=t.offsetLeft,s=t.offsetTop;console.log(o,s),e.addEventListener("click",(function(){t.style.left=`${o}px`,t.style.top=`${s}px`}))}}customElements.define("zoom-element",Zoom4);
//# sourceMappingURL=zoom4-dist.js.map