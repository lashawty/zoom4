import OPTIONS from"/options.js";class zoom4 extends HTMLElement{constructor(){super()}static get observedAttributes(){return[]}attributeChangedCallback(e,t,o){}connectedCallback(){this.#e(),this.move()}#e(){const e={container:this.getAttribute("container")||OPTIONS.SETTINGS.container,scale:this.getAttribute("scale")||OPTIONS.SETTINGS.scale,minScale:this.getAttribute("min-scale")||OPTIONS.SETTINGS.minScale,maxScale:this.getAttribute("max-scale")||OPTIONS.SETTINGS.maxScale,button:this.getAttribute("button")||OPTIONS.SETTINGS.button,eventListener:this.getAttribute("event-listener")||OPTIONS.SETTINGS.eventListener,keyboardCombine:this.getAttribute("keyboard-combine")||OPTIONS.SETTINGS.keyboardCombine};this.s={},this.s.options=e,this.createDiv(),this.#t()}createDiv(){const e=document.createElement("div");this.appendChild(e),e.className="move-element"}resetButton(){const e=document.createElement("div");let t;if(this.appendChild(e),e.className="zoom-reset",this.hasAttribute("option")){switch(this.getAttribute("option")){case"scale":t=".scale-element";break;case"move":t=".move-element"}}const o=this.querySelector(t);e.addEventListener("click",(function(){o.style.transform="scale(1)",o.style.left="0px",o.style.top="0px"}))}#t(){console.log(this.s.options);const{scale:e}=this.s.options;"zoom"===e&&this.zoom(),this.container()}zoom(){const{maxScale:e,minScale:t,eventListener:o}=this.s.options;console.log(o.event);const s=this.querySelector(".move-element");s.scale=1,s.addEventListener(o.event,(function(e){e.preventDefault(),this.scale+=-.01*e.deltaY,this.scale=Math.min(Math.max(.125,this.scale),10),this.style.transform=`scale(${this.scale})`}))}move(){const e="ontouchstart"in document.documentElement?"touchstart":"mousedown",t="ontouchend"in document.documentElement?"touchend":"mouseup",o="ontouchmove"in document.documentElement?"touchmove":"mousemove",s=this.querySelector(".move-element"),n=this;let i,c,a,l,r;const h=this.querySelector(".left"),m=this.querySelector(".top");h.innerHTML=`Left ${s.offsetLeft} px`,m.innerHTML=`Top ${s.offsetTop} px`,this.addEventListener(e,(function(t){t.preventDefault(),i=!0,"touchstart"==e?(c=t.originalEvent.targetTouches[0].pageX-s.offsetLeft,a=t.originalEvent.targetTouches[0].pageY-s.offsetTop):(c=t.pageX-s.offsetLeft,a=t.pageY-s.offsetTop),this.addEventListener(o,(e=>{i&&("touchmove"==o?(l=e.originalEvent.targetTouches[0].pageX-c,r=e.originalEvent.targetTouches[0].pageY-a,this.insideBoundary&&(l>n.offsetWidth-s.offsetWidth?l=n.offsetWidth-s.offsetWidth:l<0&&(l=0),r>n.offsetHeight-s.offsetHeight?r=n.offsetHeight-s.offsetHeight:r<0&&(r=0))):(l=e.pageX-c,r=e.pageY-a)),s.style.left=`${l}px`,s.style.top=`${r}px`,h.innerHTML=`${s.style.left}`,m.innerHTML=`${s.style.top}`}))})),this.addEventListener(t,(function(){console.log("mouseup"),i=!1}))}container(){const{container:e}=this.s.options;if("inside"===e)this.style.overflow="hidden"}}customElements.define("zoom-element",zoom4);
//# sourceMappingURL=zoom4-dist.js.map